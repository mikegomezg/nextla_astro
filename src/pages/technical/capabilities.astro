---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AztecPattern from '../../components/decorative/AztecPattern.astro';
import GeometricBorder from '../../components/decorative/GeometricBorder.astro';
import NarrativeSidebar from '../../components/NarrativeSidebar.astro';
---

<BaseLayout
  title="Capabilities Framework"
  description="Technical documentation of the capabilities framework in the ServiceNow model."
>
  <!-- Title Section with Grid Pattern -->
  <div class="relative py-24 bg-primary-800">
    <AztecPattern pattern="grid" opacity={0.15} color="#2E6E4E" className="docs-header-pattern" />
    
    <div class="container mx-auto px-8 relative z-10">
      <h1 class="text-4xl font-heading font-bold text-white mb-6 tracking-wider">Capabilities Framework</h1>
      <p class="text-xl text-neutral-200 max-w-2xl">
        Technical documentation of the capabilities concept in ServiceNow, mapped to
        attention-processing technologies in the Mirador narrative.
      </p>
      <GeometricBorder type="horizontal" color="secondary" className="mt-8 w-32" />
    </div>
  </div>

  <!-- Main Content -->
  <div class="bg-primary-900 py-16">
    <div class="container mx-auto px-8">
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
        <!-- Table Navigation Sidebar -->
        <div class="lg:col-span-2 bg-primary-800 rounded-lg p-4 h-fit sticky top-24">
          <h3 class="text-lg font-heading font-bold text-secondary-400 mb-4">Related Tables</h3>
          <div class="space-y-6">
            <div>
              <h4 class="text-sm font-bold text-accent-400 mb-2">Core Tables</h4>
              <ul class="space-y-2">
                <li><a href="#cmdb_sam_sw_capability" class="text-neutral-300 hover:text-accent-300 transition-colors text-sm font-mono">cmdb_sam_sw_capability</a></li>
                <li><a href="#cmdb_capability_group" class="text-neutral-300 hover:text-accent-300 transition-colors text-sm font-mono">cmdb_capability_group</a></li>
              </ul>
            </div>
            <div>
              <h4 class="text-sm font-bold text-accent-400 mb-2">Products</h4>
              <ul class="space-y-2">
                <li><a href="#cmdb_software_product_model" class="text-neutral-300 hover:text-accent-300 transition-colors text-sm font-mono">cmdb_software_product_model</a></li>
                <li><a href="#cmdb_model_capability" class="text-neutral-300 hover:text-accent-300 transition-colors text-sm font-mono">cmdb_model_capability</a></li>
              </ul>
            </div>
          </div>
        </div>
        
        <!-- Main Documentation -->
        <div class="lg:col-span-7">
          <h2 class="text-2xl font-heading font-bold mb-4 text-secondary-400">Understanding Capabilities</h2>
          <GeometricBorder type="horizontal" color="secondary" className="mb-6 w-24" />
          
          <p class="text-lg mb-6 text-neutral-200">
            In the ServiceNow Software Asset Management framework, capabilities represent
            functional software components that provide specific services within an organization.
            These are tracked through the following tables:
          </p>
          
          <div class="bg-primary-800 p-6 rounded-lg border border-primary-700 mb-8">
            <h3 class="text-xl font-heading mb-4 text-accent-400">Core Capability Tables</h3>
            <div class="space-y-4">
              <div>
                <h4 class="font-mono text-secondary-400">cmdb_software_product_model</h4>
                <p class="text-neutral-300 mt-1">The primary table for standard software products and their capabilities</p>
              </div>
              <div>
                <h4 class="font-mono text-secondary-400">samp_custom_sw_product</h4>
                <p class="text-neutral-300 mt-1">Custom capabilities developed for specific organizational needs</p>
              </div>
            </div>
          </div>
          
          <h2 class="text-2xl font-heading font-bold mb-4 mt-12 text-secondary-400">Core Capability Types</h2>
          <GeometricBorder type="horizontal" color="secondary" className="mb-6 w-24" />
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div class="bg-primary-800 p-6 rounded-lg border border-primary-700">
              <h4 class="font-heading font-bold text-lg mb-2 text-accent-400">Vision (Attention Analytics)</h4>
              <p class="text-neutral-300">Processes and analyzes patterns of user attention and engagement</p>
            </div>
            
            <div class="bg-primary-800 p-6 rounded-lg border border-primary-700">
              <h4 class="font-heading font-bold text-lg mb-2 text-accent-400">Learning (Educational Processing)</h4>
              <p class="text-neutral-300">Shapes and directs cognitive development and knowledge acquisition</p>
            </div>
            
            <div class="bg-primary-800 p-6 rounded-lg border border-primary-700">
              <h4 class="font-heading font-bold text-lg mb-2 text-accent-400">Spectacle (Entertainment Systems)</h4>
              <p class="text-neutral-300">Creates immersive experiences that capture and maintain attention</p>
            </div>
            
            <div class="bg-primary-800 p-6 rounded-lg border border-primary-700">
              <h4 class="font-heading font-bold text-lg mb-2 text-accent-400">Creation (Creative Production)</h4>
              <p class="text-neutral-300">Enables the development of new content and experiences</p>
            </div>
          </div>
          
          <h2 class="text-2xl font-heading font-bold mb-4 mt-12 text-secondary-400">Implementation Details</h2>
          <GeometricBorder type="horizontal" color="secondary" className="mb-6 w-24" />
          
          <div class="bg-primary-800 p-6 rounded-lg border border-primary-700 mb-8">
            <h3 class="text-xl font-heading mb-4 text-accent-400">Data Model Relationships</h3>
            <p class="text-neutral-300 mb-4">
              Capabilities connect to other entities in the SAM framework through these relationships:
            </p>
            <ul class="space-y-2 text-neutral-300">
              <li>• <strong>Publishers</strong>: Capabilities are owned by software publishers</li>
              <li>• <strong>Entitlements</strong>: Capabilities are licensed through entitlement definitions</li>
              <li>• <strong>Installations</strong>: Capabilities are deployed through installation points</li>
              <li>• <strong>Usage</strong>: Capabilities are measured through usage metrics</li>
            </ul>
          </div>
        </div>
        
        <!-- Story Sidebar -->
        <div class="lg:col-span-3 space-y-6 h-fit sticky top-24">
          <NarrativeSidebar 
            character="nova" 
            title="Capabilities in Mirador"
            className="mb-6"
          >
            Capabilities represent the core technologies that power Mirador's society. From Vision systems that enable surveillance to Creation tools that build infrastructure, these capabilities define what's possible in each city-state.
          </NarrativeSidebar>
          
          <NarrativeSidebar 
            character="silas" 
            title="Capability Regulation"
            className="mb-6"
          >
            Each capability is regulated by specific city-states, who monitor and control access. As a NextLa agent, I track the flow of capabilities between jurisdictions and investigate unauthorized deployments.
          </NarrativeSidebar>
          
          <NarrativeSidebar 
            character="enrique" 
            title="Freedom Through Technology"
            className="mb-6"
          >
            The resistance believes capabilities should be freely available to all citizens, not controlled by a privileged few. We've created alternative capability frameworks that operate outside the official regulatory systems.
          </NarrativeSidebar>
          
          <NarrativeSidebar 
            character="victoria" 
            title="Cultural Impact"
            className="mb-6"
          >
            Capabilities have fundamentally reshaped our social structures. Cities with access to advanced Creation capabilities flourish with impossible architecture, while those limited to basic Vision systems become surveillance states by necessity.
          </NarrativeSidebar>
        </div>
      </div>
    </div>
  </div>
</BaseLayout> 