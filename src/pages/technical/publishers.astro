---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AztecPattern from '../../components/decorative/AztecPattern.astro';
import GeometricBorder from '../../components/decorative/GeometricBorder.astro';
import NarrativeSidebar from '../../components/NarrativeSidebar.astro';
---

<BaseLayout
  title="Publishers Framework"
  description="Technical documentation of the publishers framework in the ServiceNow model, representing city-states in Mirador."
>
  <!-- Title Section with Pattern -->
  <div class="relative py-24 bg-primary-800">
    <AztecPattern pattern="grid" opacity={0.15} color="#2E6E4E" className="docs-header-pattern" />
    
    <div class="container mx-auto px-8 relative z-10">
      <h1 class="text-4xl font-heading font-bold text-white mb-6 tracking-wider">Publishers Framework</h1>
      <p class="text-xl text-neutral-200 max-w-2xl">
        Technical documentation of the publishers concept in ServiceNow, mapped to
        competing city-states in the Mirador narrative.
      </p>
      <GeometricBorder type="horizontal" color="secondary" className="mt-8 w-32" />
    </div>
  </div>

  <!-- Main Content -->
  <div class="bg-primary-900 py-16">
    <div class="container mx-auto px-8">
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
        <!-- Table Navigation Sidebar -->
        <div class="lg:col-span-2 bg-primary-800 rounded-lg p-4 h-fit sticky top-24">
          <h3 class="text-lg font-heading font-bold text-secondary-400 mb-4">Related Tables</h3>
          <div class="space-y-6">
            <div>
              <h4 class="text-sm font-bold text-accent-400 mb-2">Publishers</h4>
              <ul class="space-y-2">
                <li><a href="#core_company" class="text-neutral-300 hover:text-accent-300 transition-colors text-sm font-mono">core_company</a></li>
                <li><a href="#samp_sw_publisher" class="text-neutral-300 hover:text-accent-300 transition-colors text-sm font-mono">samp_sw_publisher</a></li>
                <li><a href="#samp_custom_sw_publisher" class="text-neutral-300 hover:text-accent-300 transition-colors text-sm font-mono">samp_custom_sw_publisher</a></li>
              </ul>
            </div>
            <div>
              <h4 class="text-sm font-bold text-accent-400 mb-2">Products</h4>
              <ul class="space-y-2">
                <li><a href="#cmdb_software_product_model" class="text-neutral-300 hover:text-accent-300 transition-colors text-sm font-mono">cmdb_software_product_model</a></li>
                <li><a href="#samp_custom_sw_product" class="text-neutral-300 hover:text-accent-300 transition-colors text-sm font-mono">samp_custom_sw_product</a></li>
              </ul>
            </div>
          </div>
        </div>
        
        <!-- Main Documentation -->
        <div class="lg:col-span-7">
          <h2 class="text-2xl font-heading font-bold mb-4 text-secondary-400">Publisher Entities</h2>
          <GeometricBorder type="horizontal" color="secondary" className="mb-6 w-24" />
          
          <p class="text-lg mb-6 text-neutral-200">
            In the ServiceNow Software Asset Management framework, publishers represent
            the organizations that develop, distribute, and maintain software products and capabilities.
            These are tracked through the following tables:
          </p>
          
          <div class="bg-primary-800 p-6 rounded-lg border border-primary-700 mb-8">
            <h3 class="text-xl font-heading mb-4 text-accent-400">Core Publisher Tables</h3>
            <div class="space-y-4">
              <div>
                <h4 class="font-mono text-secondary-400">core_company</h4>
                <p class="text-neutral-300 mt-1">The foundational table for all organization entities</p>
              </div>
              <div>
                <h4 class="font-mono text-secondary-400">samp_sw_publisher</h4>
                <p class="text-neutral-300 mt-1">Standard software publishers with their capabilities and product offerings</p>
              </div>
              <div>
                <h4 class="font-mono text-secondary-400">samp_custom_sw_publisher</h4>
                <p class="text-neutral-300 mt-1">Organizations that develop custom software components internally</p>
              </div>
            </div>
          </div>
          
          <h2 class="text-2xl font-heading font-bold mb-4 mt-12 text-secondary-400">Publisher Types</h2>
          <GeometricBorder type="horizontal" color="secondary" className="mb-6 w-24" />
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div class="bg-primary-800 p-6 rounded-lg border border-primary-700">
              <h4 class="font-heading font-bold text-lg mb-2 text-accent-400">Tier 1 (Primary Publishers)</h4>
              <p class="text-neutral-300">Capability originators that create and control fundamental technologies</p>
            </div>
            
            <div class="bg-primary-800 p-6 rounded-lg border border-primary-700">
              <h4 class="font-heading font-bold text-lg mb-2 text-accent-400">Tier 2 (Secondary Publishers)</h4>
              <p class="text-neutral-300">Organizations that extend and implement primary capabilities under license</p>
            </div>
            
            <div class="bg-primary-800 p-6 rounded-lg border border-primary-700">
              <h4 class="font-heading font-bold text-lg mb-2 text-accent-400">Tier 3 (Tertiary Publishers)</h4>
              <p class="text-neutral-300">Organizations that develop applications using capabilities from Tier 1 and 2</p>
            </div>
            
            <div class="bg-primary-800 p-6 rounded-lg border border-primary-700">
              <h4 class="font-heading font-bold text-lg mb-2 text-accent-400">Custom (Internal Publishers)</h4>
              <p class="text-neutral-300">Organizations that develop custom capabilities for internal use only</p>
            </div>
          </div>
          
          <h2 class="text-2xl font-heading font-bold mb-4 mt-12 text-secondary-400">Publisher Relationships</h2>
          <GeometricBorder type="horizontal" color="secondary" className="mb-6 w-24" />
          
          <div class="bg-primary-800 p-6 rounded-lg border border-primary-700 mb-8">
            <h3 class="text-xl font-heading mb-4 text-accent-400">Relationship Model</h3>
            <p class="text-neutral-300 mb-4">
              Publishers connect to other entities in the SAM framework through these relationships:
            </p>
            <ul class="space-y-2 text-neutral-300">
              <li>• <strong>Capabilities</strong>: Publishers develop and maintain specific capabilities</li>
              <li>• <strong>Products</strong>: Publishers distribute products that bundle multiple capabilities</li>
              <li>• <strong>Entitlements</strong>: Publishers create entitlement definitions that govern usage rights</li>
              <li>• <strong>Reconciliation</strong>: Publishers participate in the compliance verification process</li>
            </ul>
          </div>
          
          <h2 class="text-2xl font-heading font-bold mb-4 mt-12 text-secondary-400">Implementation Details</h2>
          <GeometricBorder type="horizontal" color="secondary" className="mb-6 w-24" />
          
          <div class="bg-primary-800 p-6 rounded-lg border border-primary-700">
            <h3 class="text-xl font-heading mb-4 text-accent-400">Publisher Configuration</h3>
            <p class="text-neutral-300 mb-4">
              Publisher records contain several important fields for proper asset management:
            </p>
            <div class="space-y-4 font-mono text-sm">
              <div class="bg-primary-700 p-3 rounded">
                <span class="text-secondary-400">publisher_id:</span> <span class="text-neutral-200">Unique identifier for the publisher</span>
              </div>
              <div class="bg-primary-700 p-3 rounded">
                <span class="text-secondary-400">reconciliation_model:</span> <span class="text-neutral-200">The compliance verification approach</span>
              </div>
              <div class="bg-primary-700 p-3 rounded">
                <span class="text-secondary-400">capability_framework:</span> <span class="text-neutral-200">The technology stack used by the publisher</span>
              </div>
              <div class="bg-primary-700 p-3 rounded">
                <span class="text-secondary-400">entitlement_type:</span> <span class="text-neutral-200">How usage rights are structured</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Story Sidebar -->
        <div class="lg:col-span-3 space-y-6 h-fit sticky top-24">
          <NarrativeSidebar 
            character="silas" 
            title="City-States as Publishers"
            className="mb-6"
          >
            In the Mirador universe, the eight city-states function as capability publishers. Each has specializations - Toltec focuses on Vision and Surveillance, while Nova Valencia leads in Experience and Entertainment capabilities.
          </NarrativeSidebar>
          
          <NarrativeSidebar 
            character="nova" 
            title="Publisher Sovereignty"
            className="mb-6"
          >
            Publishers maintain complete sovereignty over their capability domains. They control licensing, deployment limits, and compatibility standards. Treaties between city-states enable capabilities to function across jurisdictional boundaries.
          </NarrativeSidebar>
          
          <NarrativeSidebar 
            character="enrique" 
            title="Alternative Publishers"
            className="mb-6"
          >
            The Outland resistance represents an unauthorized publisher collective. We've developed parallel capability frameworks that operate independently from the city-states' control mechanisms, though they're considered illegal within official jurisdictions.
          </NarrativeSidebar>
          
          <NarrativeSidebar 
            character="victoria" 
            title="Political Reality"
            className="mb-6"
          >
            The politics between publishers shapes everyday life. When Toltec and Argos had their diplomatic crisis last year, cross-compatible Vision capabilities glitched throughout both territories. Publisher relationships directly impact citizen experience.
          </NarrativeSidebar>
        </div>
      </div>
    </div>
  </div>
</BaseLayout> 