---
import LandingLayout from '../layouts/LandingLayout.astro';
import CircuitFeather from '../components/CircuitFeather.astro';
import MobileNav from '../components/MobileNav.astro';

// Get variation from URL parameter (v=1, v=2, or v=3)
const { url } = Astro;
const params = url.searchParams;
const variation = params.get('v') || '1';

// Map variation to a descriptive name
const variationName = {
  '1': 'Attention Economy Focus',
  '2': 'City-States Conflict',
  '3': 'Manifestations Mystery'
}[variation];

// Unified color scheme
const colors = {
  darkNavy: '#05061A',
  navy: '#0A0C35',
  jade: '#2E6E4E',
  red: '#A63D2F'
};
---

<LandingLayout title="Mirador - Digital Attention Economy" description="In Mirador, attention is the new currency. Every glance has value.">
  <MobileNav activePage="home" />
  
  <!-- Hero Section -->
  <section class="relative min-h-screen flex flex-col justify-center items-center px-4 py-20">
    <!-- Background elements -->
    <div class="absolute inset-0 bg-gradient-to-b from-primary-800 to-primary-900 z-0"></div>
    <div class="absolute inset-0 bg-[url('/static/patterns/grid-pattern.svg')] bg-repeat opacity-10 z-0"></div>
    
    <!-- Decorative circuit feathers -->
    <div class="absolute top-1/4 -left-10 sm:left-10 z-10 opacity-60 transform -rotate-12">
      <CircuitFeather severity="moderate" size="lg" variant="technical" animated={true} />
    </div>
    <div class="absolute bottom-1/3 -right-10 sm:right-10 z-10 opacity-40 transform rotate-45">
      <CircuitFeather severity="minor" size="md" variant="technical" animated={true} />
    </div>
    
    <!-- Main content -->
    <div class="container mx-auto relative z-20 text-center">
      <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold mb-6 leading-tight tracking-wider text-white">
        ATTENTION <span class="text-secondary-500">IS</span> CURRENCY
      </h1>
      
      <h2 class="text-xl sm:text-2xl mb-8 text-secondary-500/90 max-w-2xl mx-auto font-light">
        In Mirador, every glance has value
      </h2>
      
      <div class="relative my-8 mx-auto w-24 h-24 sm:w-32 sm:h-32">
        <CircuitFeather severity="critical" size="lg" variant="technical" animated={true} />
      </div>
      
      <div class="mt-8 sm:mt-12">
        <a href="#concept" class="px-6 py-3 sm:px-8 sm:py-4 bg-secondary-500 text-white rounded-md inline-block hover:bg-secondary-600 transition-colors shadow-lg text-lg">
          Explore Mirador
        </a>
      </div>
      
      <!-- Scroll indicator -->
      <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white/70">
          <path d="M12 5v14M19 12l-7 7-7-7"/>
        </svg>
      </div>
    </div>
  </section>
  
  <!-- Concept Section -->
  <section id="concept" class="py-16 sm:py-20 bg-primary-800 relative">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl sm:text-3xl font-bold mb-8 text-white text-center">The Attention Economy</h2>
        
        <div class="bg-primary-900/70 p-6 sm:p-8 rounded-lg border border-secondary-500/20 shadow-xl">
          <p class="text-base sm:text-lg mb-6 text-white/90">
            In the world of Mirador, human attention has been quantified, measured, and transformed into the primary unit of value.
          </p>
          
          <p class="text-base sm:text-lg mb-6 text-white/90">
            The more attention a person, company, or city-state commands, the more power they wield. But when attention flows unregulated, 
            strange manifestations appear - circuit-like feathers that signal imbalance in the system.
          </p>
          
          <div class="flex items-center my-8 justify-center space-x-2 sm:space-x-4">
            <CircuitFeather severity="minor" size="sm" variant="technical" />
            <span class="text-secondary-500">→</span>
            <CircuitFeather severity="moderate" size="sm" variant="technical" />
            <span class="text-secondary-500">→</span>
            <CircuitFeather severity="severe" size="sm" variant="technical" />
            <span class="text-secondary-500">→</span>
            <CircuitFeather severity="critical" size="sm" variant="technical" />
          </div>
          
          <p class="text-center text-secondary-500 font-medium">
            These manifestations intensify as the imbalance grows
          </p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- City-States Section -->
  <section class="py-16 sm:py-20 bg-primary-900 relative">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl sm:text-3xl font-bold mb-8 sm:mb-12 text-white text-center">Competing City-States</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 max-w-4xl mx-auto">
        <div class="bg-primary-800/70 p-6 rounded-lg border border-secondary-500/20 shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
          <div class="flex justify-between items-start mb-4">
            <h3 class="text-xl font-bold text-secondary-500">Nexus</h3>
            <CircuitFeather severity="minor" size="sm" variant="technical" />
          </div>
          
          <p class="text-white/80 mb-4">
            The technological hub that pioneered attention quantification, believing in the free flow of attention as a resource.
          </p>
          
          <div class="mt-4 pt-4 border-t border-primary-700">
            <span class="text-xs text-neutral-400">Founded: 2092</span>
          </div>
        </div>
        
        <div class="bg-primary-800/70 p-6 rounded-lg border border-accent-500/20 shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
          <div class="flex justify-between items-start mb-4">
            <h3 class="text-xl font-bold text-accent-500">Meridian</h3>
            <CircuitFeather severity="moderate" size="sm" variant="technical" />
          </div>
          
          <p class="text-white/80 mb-4">
            A regulatory power that believes attention must be carefully controlled and allocated to prevent system collapse.
          </p>
          
          <div class="mt-4 pt-4 border-t border-primary-700">
            <span class="text-xs text-neutral-400">Founded: 2103</span>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Character Glimpse -->
  <section class="py-16 sm:py-20 bg-primary-800 relative">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto">
        <div class="bg-primary-900/70 p-6 sm:p-8 rounded-lg border border-secondary-500/20 shadow-xl">
          <div class="flex flex-col sm:flex-row items-center">
            <div class="mb-6 sm:mb-0 sm:mr-8 relative">
              <div class="w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-primary-700 flex items-center justify-center overflow-hidden">
                <CircuitFeather severity="severe" size="md" variant="technical" animated={true} />
              </div>
              <div class="absolute top-0 right-0 w-6 h-6 bg-accent-500 rounded-full border-2 border-primary-900"></div>
            </div>
            
            <div>
              <h3 class="text-xl sm:text-2xl font-bold mb-3 text-white">Silas Hale</h3>
              <p class="text-lg text-white/80 italic mb-4">
                "The manifestations don't lie. Something in the system is broken."
              </p>
              <p class="text-base text-white/70">
                A reconciliation agent tasked with tracking down attention imbalances and restoring equilibrium before manifestations become critical.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Call To Action -->
  <section class="py-16 sm:py-20 bg-primary-900 relative">
    <div class="container mx-auto px-4">
      <div class="max-w-2xl mx-auto text-center">
        <h2 class="text-2xl sm:text-3xl font-bold mb-8 text-white">Begin Your Journey</h2>
        
        <div class="bg-gradient-to-br from-primary-800 to-primary-700 p-8 rounded-lg border border-secondary-500 shadow-lg">
          <p class="text-lg mb-8 text-white/90">
            Choose your path through Mirador, where attention flows determine the fate of cities and people alike.
          </p>
          
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
            <a href="/technical" class="group bg-primary-800/80 hover:bg-secondary-900 p-4 rounded-md transition-colors border border-secondary-500/30 hover:border-secondary-500">
              <h3 class="text-xl font-medium mb-2 text-secondary-500 group-hover:text-secondary-400">Technical Path</h3>
              <p class="text-sm text-white/70">Explore the systems and technology behind attention quantification</p>
            </a>
            
            <a href="/narrative" class="group bg-primary-800/80 hover:bg-accent-900 p-4 rounded-md transition-colors border border-accent-500/30 hover:border-accent-500">
              <h3 class="text-xl font-medium mb-2 text-accent-500 group-hover:text-accent-400">Narrative Path</h3>
              <p class="text-sm text-white/70">Follow the story of Silas Hale as he investigates the manifestations</p>
            </a>
          </div>
          
          <div class="flex justify-center space-x-6">
            <CircuitFeather severity="moderate" size="sm" variant="technical" />
            <CircuitFeather severity="severe" size="sm" variant="technical" />
          </div>
        </div>
      </div>
    </div>
  </section>
</LandingLayout>

<style>
  @keyframes flow {
    0% {
      stroke-dashoffset: 24;
    }
    100% {
      stroke-dashoffset: 0;
    }
  }
  
  .animate-flow {
    animation: flow 1.5s linear infinite;
  }
  
  /* Custom scrollbar for webkit browsers */
  ::-webkit-scrollbar {
    width: 6px;
  }
  
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    background-color: rgba(46, 110, 78, 0.5);
    border-radius: 20px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background-color: rgba(46, 110, 78, 0.8);
  }
</style> 