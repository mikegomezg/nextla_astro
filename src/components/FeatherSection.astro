---
import { getEntry } from "astro:content";
import { Image } from "astro:assets";
import featherImg from "../assets/visuals/feather.png";

const projectContent = await getEntry("landing", "project");
const meaningContent = await getEntry("landing", "meaning");

if (!projectContent || !meaningContent) {
    throw new Error(
        "Required content not found: project or meaning entries missing from landing collection",
    );
}

// Render markdown to HTML
const { Content: ProjectContent } = await projectContent.render();
const { Content: MeaningContent } = await meaningContent.render();
---

<section id="feather" class="py-16 bg-primary bg-opacity-10 px-4">
    <div class="max-w-5xl mx-auto">
        <!-- Feather image centered -->
        <div class="flex justify-center mb-12">
            <Image
                src={featherImg}
                alt="Feather"
                width={240}
                height={240}
                class="w-auto h-auto max-h-60"
            />
        </div>

        <!-- Two-column layout for content (responsive) -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
            <div>
                <h2 class="text-2xl md:text-3xl font-bold mb-4 text-primary">
                    {projectContent.data.heading}
                </h2>
                <div class="prose prose-lg text-foreground">
                    <ProjectContent />
                </div>
            </div>

            <div>
                <h2 class="text-2xl md:text-3xl font-bold mb-4 text-primary">
                    {meaningContent.data.heading}
                </h2>
                <div class="prose prose-lg text-foreground">
                    <MeaningContent />
                </div>
            </div>
        </div>
    </div>
</section>
