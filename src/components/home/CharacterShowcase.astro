---
import { getCollection } from "astro:content";
import CharacterCard from "../characters/CharacterCard.astro";
import FeatherMotif from "../shared/FeatherMotif.astro";

// Get all characters
const characters = await getCollection("characters");
---

<section class="character-showcase py-20 bg-black">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-6 text-center">
            Meet the Characters
        </h2>
        <p class="text-gray-300 text-center mb-12 max-w-2xl mx-auto">
            Through these characters' journeys, we explore the complex relationship
            between humans, AI, and the attention economy in the corporate city-state of
            Mirador.
        </p>

        <!-- Character Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            {
                characters.map((character) => (
                    <CharacterCard character={character.data} slug={character.slug} />
                ))
            }
        </div>

        <div class="mt-16 text-center">
            <a
                href="/characters"
                class="inline-block px-8 py-3 border border-jade text-jade rounded-md hover:bg-jade/10 transition-colors"
            >
                Learn More About the Characters
            </a>
        </div>
    </div>
</section>

<style>
    @media (max-width: 768px) {
        .grid {
            grid-template-columns: repeat(4, 85%);
            grid-template-rows: 1fr;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-padding: 1rem;
            padding-bottom: 1rem;
            -webkit-overflow-scrolling: touch;
        }

        .grid > * {
            scroll-snap-align: start;
        }
    }
</style>
