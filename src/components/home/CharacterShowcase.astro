---
import Section from "../shared/Section.astro";
import CharacterCard from "../characters/CharacterCard.astro";
import FeatherMotif from "../shared/FeatherMotif.astro";
import { characters } from "../../data/characters.js";
---

<Section 
  title="Meet the Characters" 
  id="characters"
  bgColor="neutral-800"
  classes="relative overflow-hidden"
>
  <!-- Background patterns -->
  <div class="absolute inset-0 z-0 opacity-5">
    <div class="absolute top-0 right-0">
      <FeatherMotif width="400" height="400" color="white" rotate="180" />
    </div>
    <div class="absolute bottom-0 left-0">
      <FeatherMotif width="300" height="300" color="white" rotate="0" />
    </div>
  </div>

  <!-- Character grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 relative z-10">
    {characters.map((character) => (
      <CharacterCard
        characterName={character.characterName}
        role={character.role}
        description={character.description}
        color={character.color}
        accentColor={character.accentColor}
      >
        <div slot="character-svg" class="h-48 bg-neutral-900/50 rounded flex items-center justify-center">
          <!-- Placeholder for character SVG illustrations -->
          <FeatherMotif 
            width="100" 
            height="100" 
            color={character.color} 
            opacity="0.5" 
            rotate={characters.indexOf(character) * 30}
          />
        </div>
      </CharacterCard>
    ))}
  </div>
  
  <!-- Mobile scroll indicator (for smaller screens) -->
  <div class="mt-8 text-center text-neutral-400 md:hidden">
    <p>Swipe to explore more characters</p>
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto mt-2 animate-bounce" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
    </svg>
  </div>
</Section>

<style>
  @media (max-width: 768px) {
    .grid {
      grid-template-columns: repeat(4, 85%);
      grid-template-rows: 1fr;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      scroll-padding: 1rem;
      padding-bottom: 1rem;
      -webkit-overflow-scrolling: touch;
    }
    
    .grid > * {
      scroll-snap-align: start;
    }
  }
</style>