---
import { getEntry } from "astro:content";
import type { ImageMetadata } from "astro";

interface Character {
    name: string;
    role: string;
    bio: string;
    image?: string;
}

const charactersContent = await getEntry("landing", "characters");
const { characters = [] } = charactersContent?.data || {};

// Create color variations for character avatars
const bgColors = [
    "from-primary/30 to-secondary/30",
    "from-secondary/30 to-highlight/30",
    "from-highlight/30 to-accent/30",
    "from-accent/30 to-primary/30",
    "from-primary/30 to-highlight/30",
    "from-secondary/30 to-accent/30",
];
---

<section id="characters" aria-labelledby="characters-heading" class="py-8 md:py-16 px-4">
    <div class="max-w-6xl mx-auto">
        <h2
            id="characters-heading"
            class="text-2xl md:text-3xl font-bold mb-6 md:mb-8 text-center text-secondary"
        >
            Characters
        </h2>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
            {
                characters.map((character: Character, index: number) => (
                    <div class="bg-background border border-secondary p-4 md:p-6 rounded-lg flex flex-col items-center text-center">
                        <div
                            class={`w-24 h-24 sm:w-32 sm:h-32 rounded-full mb-3 bg-gradient-to-br ${bgColors[index % bgColors.length]} flex items-center justify-center`}
                        >
                            <span class="text-2xl font-bold text-foreground">
                                {character.name.charAt(0)}
                            </span>
                        </div>
                        <h3 class="text-lg md:text-xl font-semibold text-highlight mb-1">
                            {character.name}
                        </h3>
                        <p class="text-accent mb-2 text-sm">{character.role}</p>
                        <p class="text-foreground text-sm md:text-base">
                            {character.bio}
                        </p>
                    </div>
                ))
            }
        </div>
    </div>
</section>
